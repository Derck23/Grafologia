<div class="card window-card">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h5 class="mb-0">Análisis de Letras</h5>
        <button class="btn btn-sm btn-outline-secondary toggle-window">−</button>
    </div>
    <div class="card-body window-content">
        {% if letters_with_angles %}
        <h6>Letras Reconocidas y Ángulos</h6>
        <div class="row">
            {% for letter in letters_with_angles %}
            <div class="col-4 col-md-3 mb-2">
                <div class="border p-1">
                    <small><strong>Letra:</strong> {{ letter.char }}</small><br>
                    <small><strong>Ángulo:</strong> {{ letter.angle }}°</small>
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}
        
        <hr>
        
        <h6>Continuidad del Trazo</h6>
        {% if continuity_results %}
        <p><strong>Porcentaje general de arriba hacia abajo:</strong> {{ continuity_results['above_below'] }}%</p>
        <p><strong>¿El trazo general del texto es continuo?:</strong> {{ 'Sí' if is_continuous else 'No' }}</p>
        {% else %}
        <p class="text-muted">No se ha analizado la continuidad del trazo aún.</p>
        {% endif %}
        
        <h6 class="mt-3">Continuidad por Palabra</h6>
        {% if word_continuity_results %}
        <div class="row">
            {% for result in word_continuity_results %}
            <div class="col-6 col-md-4 mb-2">
                <div class="border p-1">
                    <small><strong>Palabra:</strong> "{{ result.word }}"</small><br>
                    <small><strong>Continuidad:</strong> {{ 'Sí' if result.is_continuous else 'No' }}</small>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p class="text-muted">No se ha analizado la continuidad de palabras aún.</p>
        {% endif %}
    </div>
</div>